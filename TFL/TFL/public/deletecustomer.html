<!DOCTYPE html>
<html>
    <head>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    </head>
    <body bgcolor="lightyellow">
    <h1>Delete Customers</h1>
    <a href="/">Home</a> | <a href="login.html">Login</a>
     | <a href="orders.html">Orders</a> | <a href="customers.html">Customers</a> | <a href="flowers.html">Flowers</a>
    <hr> 

    <table>
        <tr>
            <td><label>Customer Id :</label></td>
            <td><input type="text" id="cid" name="cid" required /></td>
        </tr>
        <tr>
            <td></td>
            <td><button id="btndeletecustomer" type="submit">Delete</button></td>
        </tr>
        <tr>
            <td></td>
            <td><button id="btnRead" type="submit">Show All</button></td>
        </tr>
   </table>

    <hr/>

    <p id="display1"></p>


   <script>
       $(document).ready(function(){
        var url="http://localhost:8888/api/customers";

        $('#btndeletecustomer').click(function(){

            var cid=$("#cid").val();

            var url1="/api/customers/"+cid;

            $.ajax({
                        url: url1,
                        type: 'DELETE',
                        success: function (result) {
                           console.log("Customer Deleted !");
                            alert("Customer Deleted !")
                        },
                        error:function(err){
                            console.log(err);
                        }
        });
       });
    });
   </script>


<script>
    $(document).ready(function() {

        var url="http://localhost:8888/api/customers";

        $('#btnRead').click(function(){
            $.ajax({
                url:url,
                type:'GET',
                success:function(result){
                    console.log(result);
                    document.getElementById("display1").innerHTML = JSON.stringify(result);

                },
                error:function(err){
                    console.log(err);
                }
            });             
        });
    })
</script>
</body>
</html>